// {{ operation.summary }}
using System;
using System.Net.Http;
using System.Threading.Tasks;

class Program
{
    static async Task Main(string[] args)
    {
        var client = new HttpClient();
        var request = new HttpRequestMessage
        {
            Method = HttpMethod.{{ operation.method|capitalize }},
            RequestUri = new Uri("{{ operation.url }}"),
        };

        {% for header in operation.headers %}
        request.Headers.Add("{{ header.name }}", "{{ header.example }}");
        {% endfor %}

        var response = await client.SendAsync(request);
        response.EnsureSuccessStatusCode();
        var body = await response.Content.ReadAsStringAsync();
        Console.WriteLine(body);
    }
}